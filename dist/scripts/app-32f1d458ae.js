!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e,n){t.exports=n(9)},function(t,e){function n(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(r,a){var o=t.apply(e,i);function s(t){n(o,r,a,s,c,"next",t)}function c(t){n(o,r,a,s,c,"throw",t)}s(void 0)})}}},function(t,e){t.exports='<ul>    {{each dbData.item}}        {{each dbData.sku val key}}            {{if $value==val.id}}                <li sku_id="{{val.id}}">                    <a class="item-img">                        <img src="{{val.shop_info.ali_image}}" alt="">                    </a>                    <div class="item-content">                        <h4>{{val.shop_info.sku_mobile_title}}</h4>                        <p>{{val.shop_info.sku_mobile_sub_title}}</p>                        <p class="price">                            <i>¥</i>                            <span>{{val.price}}</span>                        </p>                    </div>                </li>            {{/if}}        {{/each}}    {{/each}}</ul>'},function(t,e,n){"use strict";const i=n(11),r=n(12),a=n(13);function o(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function s(t,e){return e.decode?r(t):t}function c(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function l(t){const e=(t=c(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=n):i[t]=n};case"bracket":return(t,n,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],n):i[t]=[n]:i[t]=n};case"comma":return(t,e,n)=>{const i="string"==typeof e&&e.split("").indexOf(",")>-1?e.split(","):e;n[t]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,arrayFormat:"none"},e)),i=Object.create(null);if("string"!=typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const r of t.split("&")){let[t,o]=a(r.replace(/\+/g," "),"=");o=void 0===o?null:s(o,e),n(s(t,e),o,i)}return Object.keys(i).sort().reduce((t,e)=>{const n=i[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=l,e.parse=u,e.stringify=(t,e)=>{if(!t)return"";const n=function(t){switch(t.arrayFormat){case"index":return e=>(n,i)=>{const r=n.length;return void 0===i?n:null===i?[...n,[o(e,t),"[",r,"]"].join("")]:[...n,[o(e,t),"[",o(r,t),"]=",o(i,t)].join("")]};case"bracket":return e=>(n,i)=>void 0===i?n:null===i?[...n,[o(e,t),"[]"].join("")]:[...n,[o(e,t),"[]=",o(i,t)].join("")];case"comma":return e=>(n,i,r)=>null==i||0===i.length?n:0===r?[[o(e,t),"=",o(i,t)].join("")]:[[n,o(i,t)].join(",")];default:return e=>(n,i)=>void 0===i?n:null===i?[...n,o(e,t)]:[...n,[o(e,t),"=",o(i,t)].join("")]}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),i=Object.keys(t);return!1!==e.sort&&i.sort(e.sort),i.map(i=>{const r=t[i];return void 0===r?"":null===r?o(i,e):Array.isArray(r)?r.reduce(n(i),[]).join("&"):o(i,e)+"="+o(r,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:c(t).split("?")[0]||"",query:u(l(t),e)})},function(t,e){t.exports='<div class="goodsContent">    <ul>    {{each goodsData.item}}        {{each goodsData.sku val key}}             {{if $value==val.id}}                <li sku_id="{{val.id}}">                    <img src="{{val.shop_info.ali_image}}" alt="">                    <div class="item">                        <h5>{{val.shop_info.sku_mobile_title}}</h5>                        <p>{{val.shop_info.sku_mobile_sub_title}}</p>                        <div class="attr-container">                            {{each val.shop_info.spec_v2 attrVal attrKey}}                                {{if attrVal.spec_id==2||attrVal.spec_id==14}}                                    <ul class="style-label">                                        {{each attrVal.spec_values labVal labKey}}                                            <li class="box-border">                                                <span>{{labVal.show_name}}</span>                                            </li>                                        {{/each}}                                    </ul>                                {{/if}}                            {{/each}}                            {{each val.shop_info.spec_v2 attrVal attrKey}}                                {{if attrVal.spec_id==1}}                                    <ul class="color-switch">                                        {{each attrVal.spec_values labVal labKey}}                                            <li>                                                <div class="outer">                                                    <span style="background-image: url({{labVal.image}}); background-repeat: no-repeat; background-position: center center; background-size: contain"></span>                                                </div>                                            </li>                                        {{/each}}                                    </ul>                                {{/if}}                            {{/each}}                        </div>                        <div class="price-content">                            <p class="price">                                <i>¥</i>                                <span>{{val.price}}</span>                            </p>                        </div>                    </div>                </li>            {{/if}}        {{/each}}        {{/each}}    </ul></div>'},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports='<div id="index"></div>'},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),o=new O(i||[]);return a._invoke=function(t,e,n){var i=u;return function(r,a){if(i===d)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw a;return S()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=$(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=l(t,e,n);if("normal"===c.type){if(i=n.done?f:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=f,n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",p="suspendedYield",d="executing",f="completed",h={};function v(){}function m(){}function y(){}var g={};g[a]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(E([])));_&&_!==n&&i.call(_,a)&&(g=_);var w=y.prototype=v.prototype=Object.create(g);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,r){function a(){return new Promise(function(e,a){!function e(n,r,a,o){var s=l(t[n],t,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(u).then(function(t){c.value=t,a(c)},function(t){return e("throw",t,a,o)})}o(s.arg)}(n,r,e,a)})}return e=e?e.then(a,a):a()}}function $(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,$(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:S}}function S(){return{value:e,done:!0}}return m.prototype=w.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(k.prototype),k.prototype[o]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,i,r){var a=new k(c(e,n,i,r));return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:E(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e){t.exports='<div class="container details-container">  <header>    <a class="nav-back">      <i class="yo-ico">&#xe622;</i><span>返回</span>    </a>    <h1 class="title">{{data.shop_info.sku_mobile_title}}</h1>  </header>  <main>    <div class="header-bar">      <ul class="bar">        <li class="active" page-id=\'0\'>商品</li>        <li page-id=\'1\'>详情</li>        <li page-id=\'2\'>参数</li>        <li page-id=\'3\'>推荐</li>      </ul>    </div>    <div class="details-content">      <div class="item-banner section" id="section_0">        <div class="swiper-container">          <div class="swiper-wrapper">            {{each data.shop_info.ali_images}}              <div class="swiper-slide">                  <img src="{{$value}}" alt="">              </div>            {{/each}}          </div>          <div class="swiper-pagination"></div>        </div>      </div>      <div class="item-content">        <div class="title">            <h2>商品信息</h2>        </div>        <div class="title-content">          <h4>{{data.shop_info.sku_mobile_title}}</h4>          <p>{{data.shop_info.sku_mobile_sub_title}}</p>          <p class="price">            <i>¥</i>            <span>{{data.price}}.00</span>          </p>        </div>      </div>      <div class="item-select">        <h6>已选版本</h6>        <div class="select_box">          {{each data.attr_info}}            <p>              <span class="attr_name">{{$value.spec_name}}：</span>              <span class="attr_value">{{$value.value}}</span>            </p>          {{/each}}          <p>            <span class="attr_name">数量：</span>            <span class="attr_value num">1</span>          </p>        </div>        <i class="yo-ico">&#xe621;</i>      </div>      <div class="item-details section" id="section_1">        <div class="title">            <h2>商品详情</h2>        </div>        <img src="{{data.spu.shop_info.tpl_content.base.images.ali_mobile.url[0]}}" alt="">      </div>      <div class="item-specs section" id="section_2">        <div class="title">          <h2>技术参数</h2>        </div>        {{if data.spu.shop_info.tpl_content.base.images.spec_params_mobile&&data.spu.shop_info.tpl_content.base.images.spec_params_mobile.url.length}}            <img src="{{data.spu.shop_info.tpl_content.base.images.spec_params_mobile.url[0]}}" alt="">        {{else}}        <div class="specs_main">            <ul>              {{each data.spu.shop_info.tpl_content.base.attributes}}                <li class="specs_item">                  <div class="spec_title">                    <h2>{{$value.title}}</h2>                  </div>                  <ul>                    {{each $value.list specVal specKey}}                      <li>                        <h4>{{specVal.name}}</h4>                        <span>{{specVal.value}}</span>                      </li>                    {{/each}}                  </ul>                </li>              {{/each}}            </ul>        </div>        {{/if}}      </div>      <div class="item-recommend section" id="section_3">        <div class="title">          <h2>相关推荐</h2>        </div>        <div class="dbContent">        </div>      </div>    </div>  </main>  <footer>    <ul class="item-footer">      <li class="cart">        <i class="yo-ico">&#xe60e;</i>        <a href="#/index/home/shopList"></a>        <div class="tag">          <span>0</span>        </div>      </li>      <li class="toshopcart">        <span>          <a>加入购物车</a>        </span>      </li>      <li>        <span class="highlight">          <a>现在购买</a>        </span>      </li>      <li class="affirm">        <span>          <a>确认</a>        </span>      </li>    </ul>  </footer>  <div class="dialog-wrap">      <div class="dialog-shadow"></div>      <div class="dialog">        <div class="dialog-header">          <div class="goods-image">              <img src="{{data.shop_info.ali_image}}" alt="">          </div>          <div class="goods-info">            <h4>{{data.shop_info.sku_mobile_title}}</h4>            <p>              {{each data.attr_info}}                <span>                  {{$value.value}}                </span>              {{/each}}            </p>                     <p class="price">              <i>¥</i>              <span>{{data.price}}.00</span>            </p>          </div>        </div>        <div class="iscroll-content">          {{each data.shop_info.spec_v2}}            <div class="select_column">              <div class="attr_title">                <h2>{{$value.spec_name}}选择</h2>              </div>              <div class="attr_item">                {{if $value.spec_id==1}}                  <ul>                    {{each $value.spec_values val key}}                      <li class="color" typeId={{$value.spec_id}} spec_id="{{val.id}}">                        <span>                          <img src="{{val.image}}" alt="">                        </span>                        <p>{{val.show_name}}</p>                      </li>                    {{/each}}                  </ul>                {{else}}                  <ul>                    {{each $value.spec_values val key}}                      <li typeId={{$value.spec_id}} spec_id="{{val.id}}">                        <p>{{val.show_name}}</p>                      </li>                    {{/each}}                  </ul>                {{/if}}              </div>            </div>          {{/each}}          <div class="select_column">              <div class="attr_title">                <h2>选择数量</h2>              </div>              <div class="attr_count">                <div class="count-btn down disabled"></div>                <span class="num btn-num">1</span>                <div class="count-btn up"></div>              </div>          </div>        </div>      </div>  </div>  <div class="toast-tips-wrap">    <div class="toast-tips">      <label>已添至购物车</label>    </div>  </div></div>'},function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},function(t,e,n){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],a(n),a(i))}function o(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(i),n=1;n<e.length;n++)e=(t=a(e,n).join("")).match(i);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var i=o(n[0]);i!==n[0]&&(e[n[0]]=i)}n=r.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),s=0;s<a.length;s++){var c=a[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,a=i.length,o=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),c=i[n];n<a;c=i[++n])v(c)||!_(c)?o+=" "+c:o+=" "+s(c);return o},e.deprecate=function(n,i){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var a,o={};function s(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),h(n)?i.showHidden=n:n&&e._extend(i,n),g(i.showHidden)&&(i.showHidden=!1),g(i.depth)&&(i.depth=2),g(i.colors)&&(i.colors=!1),g(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),u(i,t,i.depth)}function c(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function l(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return y(r)||(r=u(t,r,i)),r}var a=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(a)return a;var o=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),x(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(n);if(0===o.length){if(k(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var l,_="",$=!1,j=["{","}"];(f(n)&&($=!0,j=["[","]"]),k(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),x(n)&&(_=" "+p(n)),0!==o.length||$&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=$?function(t,e,n,i,r){for(var a=[],o=0,s=e.length;o<s;++o)O(e,String(o))?a.push(d(t,e,n,i,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(d(t,e,n,i,r,!0))}),a}(t,n,i,s,o):o.map(function(e){return d(t,n,i,s,e,$)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,_,j)):j[0]+_+j[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,i,r,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),O(i,r)||(o="["+r+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(n)?u(t,c.value,null):u(t,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),g(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function f(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===$(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===$(t)}function x(t){return _(t)&&("[object Error]"===$(t)||t instanceof Error)}function k(t){return"function"==typeof t}function $(t){return Object.prototype.toString.call(t)}function j(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(a)&&(a=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var i=t.pid;o[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,i,t)}}else o[n]=function(){};return o[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=h,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=_,e.isDate=w,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(16);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[j(t.getHours()),j(t.getMinutes()),j(t.getSeconds())].join(":"),[t.getDate(),L[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(17),e._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function S(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(E&&t[E]){var e;if("function"!=typeof(e=t[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise(function(t,i){e=t,n=i}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(t,i){t?n(t):e(i)});try{t.apply(this,r)}catch(t){n(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),E&&Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=E,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};e.apply(this,n).then(function(e){t.nextTick(o,null,e)},function(e){t.nextTick(S,e,o)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}}).call(this,n(15))},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var c,l=[],u=!1,p=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&f())}function f(){if(!u){var t=s(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports='<div class="container">  <header>  </header>  <main>  </main>  <nav>    <ul>      <li class="active">        <i class="yo-ico">&#xe617;</i>        <b>首页</b>        <a href="#/index/home/position"></a>      </li>      <li>        <i class="yo-ico">&#xe60d;</i>        <b>分类</b>        <a href="#/index/home/classify"></a>      </li>      <li>        <i class="yo-ico">&#xe60e;</i>        <b>购物车</b>        <a href="#/index/home/shopList"></a>      </li>      <li>        <i class="yo-ico">&#xe619;</i>        <b>个人中心</b>        <a href="#/index/home/profile"></a>              </li>    </ul>  </nav></div>'},function(t,e){t.exports='<span class="list"></span><span class="logo"></span><span class="search"></span>'},function(t,e){t.exports='<div class="banner">  <div class="swiper-container">    <div class="swiper-wrapper">        <div class="swiper-slide">            <img src="https://resource.smartisan.com/resource/fda5c3e61a71c0f883bbd6c76516cd85.png" alt="">        </div>        <div class="swiper-slide">          <img src="https://resource.smartisan.com/resource/R/R1app1.png" alt="">        </div>    </div>    <div class="swiper-pagination"></div>  </div></div><div class="hotGoods goodList"></div><div class="brandGoods goodList"></div><div class="officeGoods goodList"></div><div class="ttPhone goodList"></div>'},function(t,e){t.exports='<div class="title" label="data" data-list-id="0">    <h2>{{data.floors[data.label].floorName}}</h2>    <i class="yo-ico">&#xe621;</i></div><div class="content"><ul>    {{each data.floors[data.label].dataList}}        {{each data.sku val key}}             {{if $value==val.id}}            <li sku_id="{{val.id}}">                <div class="mask">                    <img src="{{val.shop_info.ali_image}}" alt="">                </div>                <div class="item-content">                    <h3>{{val.shop_info.sku_mobile_title}}</h3>                    <p class="hotSubTitle">{{val.shop_info.sku_mobile_sub_title}}</p>                    <p class="price">                    <i>¥</i>                    <span>{{val.price}}</span>                    </p>                </div>            </li>            {{/if}}        {{/each}}        {{/each}}</ul></div>'},function(t,e){t.exports='<div class="title" data-list-id="1">    <h2>{{data.floors[data.label].floorName}}</h2>    <i class="yo-ico">&#xe621;</i></div><div class="content"></div>'},function(t,e){t.exports='<div class="title" data-list-id="{{data.label}}">    <h2>{{data.floors[data.label].floorName}}</h2>    <i class="yo-ico">&#xe621;</i></div><div class="dbContent content"></div>'},function(t,e){t.exports='{{each classifyData.item}}  <div class="classifyContent">    <div class="classify-title">{{$value.name}}</div>    <div class="classify-banner">      <img src="{{$value.image.src}}" alt="">    </div>    <div class="classify-item">      {{if $value.layout.type=="productLayoutCategoryOneOne"}}        {{each $value.layout.dataList dataVal dataKey}}          {{each classifyData.sku skuVal skuKey}}            {{if dataVal.sku==skuVal.id}}              <div class="classify-one" sku_id="{{skuVal.id}}">                <img src="{{skuVal.shop_info.ali_image}}" alt="">                <span>{{skuVal.shop_info.sku_mobile_title}}</span>                <i class="yo-ico">&#xe621;</i>              </div>            {{/if}}          {{/each}}        {{/each}}      {{else}}        <div class="classify-three-container">          {{each $value.layout.dataList dataVal dataKey}}            {{each classifyData.sku skuVal skuKey}}              {{if dataVal.sku==skuVal.id}}                <div class="classify-three" sku_id="{{skuVal.id}}">                  <div class="img_con">                    <img src="{{skuVal.shop_info.ali_image}}" alt="">                  </div>                    <span>{{skuVal.shop_info.sku_mobile_title}}</span>                </div>                {{/if}}            {{/each}}          {{/each}}        </div>      {{/if}}    </div>  </div>{{/each}}'},function(t,e){t.exports='<span class="list"></span><h1 class="title">分类</h1><span class="search"></span>'},function(t,e){t.exports='<h1 class="title">购物车</h1>'},function(t,e){t.exports='<div class="shoppingList_container">    <div class="shop_list">        <div class="group">            {{each data.localData}}                {{each data.skuData val key}}                    {{if $value.id==val.id}}                        <div class="item">                            <div class="checkBox">                                <span class="m-check"></span>                            </div>                            <div class="item-wrapper">                                <div class="item-thumb">                                    <a>                                        <img src="{{val.shop_info.ali_image}}" alt="">                                    </a>                                </div>                                <div class="item-info">                                    <h4>{{val.shop_info.sku_mobile_title}}</h4>                                    <p class="item-attrs">                                        {{each val.attr_info attrVal attrKey}}                                            <span>{{attrVal.value}}</span>                                        {{/each}}                                    </p>                                    <div class="item-price-container">                                        <p class="price">                                            <span>                                                <i>¥</i>                                                <span>{{val.price}}.00</span>                                            </span>                                            <span class="sum">x  {{$value.num}}</span>                                        </p>                                    </div>                                </div>                            </div>                        </div>                    {{/if}}                {{/each}}            {{/each}}        </div>    </div></div>'},function(t,e){t.exports='<div class="emptyContainer">    <div class="img-container">        <img src="../images/empty.png" alt="">    </div>    <h3>购物车暂无商品</h3>    <p>添加到购物车的商品将会显示在这里</p>    <div class="btn-container">        <a href="" class="login">登陆</a>        <a href="#/index/home/position" class="buy">现在选购</a>    </div></div>'},function(t,e){t.exports='<h1 class="title">个人中心</h1>'},function(t,e){t.exports="<div>  profile  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p>  <p>1</p></div>"},function(t,e){t.exports='<a class="nav-back">    <i class="yo-ico">&#xe622;</i><span>返回</span></a><h1 class="title">{{data.floorName||"商品列表"}}</h1>'},function(t,e,n){"use strict";n.r(e);var i=n(5),r=n.n(i),a=n(6),o=n.n(a),s=n(8),c={render:function(){$("#app").html(s)}},l=n(0),u=n.n(l),p=n(1),d=n.n(p),f=n(7),h=n.n(f),v=function(t){return $.ajax({url:t,type:"get",success:function(t){return t}})},m=(n(14),n(10)),y=n(2),g=n(3),b=function(t){new Y({mode:"hash"}).push("/index/details?id="+t)},_=function(){$("body").addClass("wrap_on"),$(".dialog-wrap").show(),$(".toshopcart").hide(),$(".highlight").hide(),$(".affirm").css({display:"flex"})},w=function(){$("body").removeClass("wrap_on"),$(".dialog-wrap").hide(),$(".toshopcart").show(),$(".highlight").show(),$(".affirm").hide()},x=function(t){var e=String(t.id),n=Number(t.num),i=localStorage.getItem("shoppingList");if(i){var r=JSON.parse(i);if(r[e]){if(r[e].num+n>10)return $(".toast-tips").addClass("on").children("label").text("失败，超过数量限制"),void setTimeout(function(){$(".toast-tips").removeClass("on")},1e3);r[e].num+=n,localStorage.setItem("shoppingList",JSON.stringify(r)),$(".toast-tips").addClass("on").children("label").text("已添至购物车"),setTimeout(function(){$(".toast-tips").removeClass("on")},1e3),k()}else r[e]={id:e,num:n},localStorage.setItem("shoppingList",JSON.stringify(r)),$(".toast-tips").addClass("on").children("label").text("已添至购物车"),setTimeout(function(){$(".toast-tips").removeClass("on")},1e3),k()}else localStorage.setItem("shoppingList",JSON.stringify(h()({},e,{id:e,num:n})))},k=function(){$("body").hasClass("wrap_on")?_():w();var t=localStorage.getItem("shoppingList");if("{}"!=t&&t){var e=JSON.parse(t),n=0;for(var i in e)n+=Number(e[i].num);$(".tag").children("span").text(n),$(".tag").show()}else $(".tag").hide()},j={render:function(){var t=d()(u.a.mark(function t(){var e,n,i,r,a,o,s,c,l,p,d,f,h,j;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.parse(location.hash.split("?")[1]),t.next=3,v("/goodslist/product/skus?ids="+e.id+"&with_spu=true");case 3:for(o in n=t.sent,i=n.data.list[0],r=template.render(m,{data:i}),console.log(i),$("#index").html(r),a=function(t){$(".attr_item li").each(function(){$(this).eq(0).attr("spec_id")==i.attr_info[t].spec_value_id&&$(this).eq(0).addClass("active")})},i.attr_info)a(o);return new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0}}),s=[],$(".section").each(function(){s.push($(this).offset().top-105)}),$(".bar li").on("click",function(){$("main").scrollTop(s[$(this).attr("page-id")])}),$("main").scroll(function(){$(".section").each(function(t,e){$(this).offset().top<=110&&$('[page-id="'.concat(t,'"]')).addClass("active").siblings().removeClass("active")})}),k(),$(".nav-back").on("click",function(){location.hash="#/index/home/position"}),c=(new Date).getTime(),t.next=20,v("/index/www_json/DefaultRecmdSku.json?_v="+c);case 20:return l=t.sent,p=(p=l.sort(function(){return Math.random()>.5?-1:1})).splice(10),d=p.join(","),t.next=26,v("/goodslist/product/skus?ids="+d);case 26:f=t.sent,h={item:p,sku:f.data.list},j=template.render(y,{dbData:h}),$(".dbContent").html(j),$(".highlight").on("click",_),$(".toshopcart").on("click",_),$(".item-select").on("click",_),$(".dialog-shadow").on("click",w),$(".affirm").on("click",function(){var t={id:e.id,num:$(".btn-num").text()};console.log(t),x(t),w()}),$(".attr_item li").on("click",function(){if(!$(this).hasClass("active")){$(this).addClass("active").siblings().removeClass("active");var t=[];$(".attr_item li.active").each(function(e){t.push({type:$(this).attr("typeId"),spec_id:$(this).attr("spec_id")})});for(var e=i.spu.sku_info,n=0;n<e.length;n++)for(var r=0;r<e[n].spec_json.length&&(e[n].spec_json[r].spec_id==t[r].type&&e[n].spec_json[r].spec_value_id==t[r].spec_id);r++)if(r==e[n].spec_json.length-1){var a=e[n].sku_id;b(a)}}}),$(".count-btn").on("click",function(){$(this).hasClass("disabled")||($(this).hasClass("down")?($(".num").each(function(){$(this).text(Number($(this).text())-1)}),$(".up").removeClass("disabled"),$(".btn-num").text()<=1&&$(this).addClass("disabled")):($(".num").each(function(){$(this).text(Number($(this).text())+1)}),$(".down").removeClass("disabled"),$(".btn-num").text()>=10&&$(this).addClass("disabled")))}),$("[sku_id]").on("click",function(){var t=$(this).attr("sku_id");b(t)});case 38:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},L=n(18),O={render:function(){$("#index").html(L)}},E=n(19),S=n(20),C=n(21),R=n(22),T=n(23),N=n(2),P=n(4),V={render:function(){var t=d()(u.a.mark(function t(){var e,n,i,r,a,o,s,c,l,p,d,f;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return $("header").html(E),$("main").html(S),new Swiper(".swiper-container",{autoplay:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0}}),t.next=5,v("/home/marketing/mobile/index_a67905b00195f1f0dfeb4157c903a310.json");case 5:for(e=t.sent,n="skus?ids=",i=0;i<e.floors.length;i++)e.floors[i].dataList.forEach(function(t){n+=t+","});return t.next=10,v("/goodslist/product/"+n.substr(0,n.length-1));case 10:r=t.sent,(a={floors:e.floors,sku:r.data.list}).label="0",o=template.render(C,{data:a}),$(".hotGoods").html(o),a.label="1",s=template.render(R,{data:a}),$(".brandGoods").html(s),c={item:e.floors[1].dataList,sku:r.data.list},l=template.render(P,{goodsData:c}),$(".brandGoods .content").html(l),a.label="2",p=template.render(T,{data:a}),$(".officeGoods").html(p),d={item:e.floors[2].dataList,sku:r.data.list},f=template.render(N,{dbData:d}),$(".officeGoods .dbContent").html(f),a.label="3",p=template.render(T,{data:a}),$(".ttPhone").html(p),d.item=e.floors[3].dataList,f=template.render(N,{dbData:d}),$(".ttPhone .dbContent").html(f),$(".price span").each(function(t,e){e.textContent=num2money(e.textContent)+".00"}),$("div.title").on("click",function(){var t,e=$(this).attr("data-list-id");t=e,new Y({mode:"hash"}).push("/index/home/goodslist?id="+t)}),$("[sku_id]").on("click",function(){var t,e=$(this).attr("sku_id");t=e,new Y({mode:"hash"}).push("/index/details?id="+t)});case 36:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},D=n(24),U=n(25),A={render:function(){var t=d()(u.a.mark(function t(){var e,n,i,r,a,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return $("header").html(U),t.next=3,v("/home/marketing/mobile/category_a2b204b7ec11fdf54fc472ca30fcff78.json");case 3:for(e=t.sent,n="skus?ids=",i=0;i<e.length;i++)e[i].layout.dataList.forEach(function(t){n+=t.sku+","});return t.next=8,v("/goodslist/product/"+n.substr(0,n.length-1));case 8:r=t.sent,a={item:e,sku:r.data.list},o=template.render(D,{classifyData:a}),console.log(a),$("main").html(o),$("[sku_id]").on("click",function(){var t,e=$(this).attr("sku_id");t=e,new Y({mode:"hash"}).push("/index/details?id="+t)});case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},F=n(26),z=n(27),I=n(28),G={render:function(){var t=d()(u.a.mark(function t(){var e,n,i,r,a,o,s,c,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if($("header").html(F),e=localStorage.getItem("shoppingList"),n={},"{}"!=e&&e){t.next=7;break}$("main").html(I),t.next=19;break;case 7:for(a in i=JSON.parse(e),r=[],i)r.push(i[a].id);return o=r.join(","),console.log(o),t.next=14,v("/goodslist/product/skus?ids="+o);case 14:s=t.sent,n=s.data.list,c={localData:i,skuData:n},l=template.render(z,{data:c}),$("main").html(l);case 19:console.log(n);case 20:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},J=n(29),K=n(30),M={render:function(){$("header").html(J),$("main").html(K)}},B=n(31),H=n(4),Z=n(3),q={render:function(){var t=d()(u.a.mark(function t(){var e,n,i,r,a,o,s,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Z.parse(location.hash.split("?")[1]),console.log(e),t.next=4,v("/home/marketing/mobile/index_a67905b00195f1f0dfeb4157c903a310.json");case 4:return n=t.sent,i=n.floors[e.id],r="skus?ids=",i.dataList.forEach(function(t){r+=t+","}),t.next=10,v("/goodslist/product/"+r.substr(0,r.length-1));case 10:a=t.sent,o={item:i.dataList,sku:a.data.list},s=template.render(B,{data:i}),$("header").html(s),c=template.render(H,{goodsData:o}),$("main").html(c),$(".nav-back").on("click",function(){history.back()});case 17:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},Y=function(){function t(e){r()(this,t),this.mode=e.mode,this.routes={"/index":c,"/index/details":j,"/index/home":O,"/index/home/position":V,"/index/home/classify":A,"/index/home/shopList":G,"/index/home/profile":M,"/index/home/goodslist":q},this.root=$("#main"),this.navList=$("nav a"),this.init()}return o()(t,[{key:"init",value:function(){c.render(),"hash"===this.mode?(window.addEventListener("load",this.hashRefresh.bind(this),!1),window.addEventListener("hashchange",this.hashRefresh.bind(this),!1)):(this.bindLink(),window.addEventListener("load",this.loadView.bind(this,location.pathname)),window.addEventListener("popstate",this.historyRefresh.bind(this)))}},{key:"bindLink",value:function(){$("nav").on("click","a",this.handleLink.bind(this))}},{key:"handleLink",value:function(t){t.preventDefault();var e=$(t.target).attr("href");if("#"!==e.slice(0,1))window.location.href=e;else{var n=e.slice(1);history.pushState({path:n},null,n),this.loadView(n.split("?")[0])}}},{key:"hashRefresh",value:function(t){if(t.newURL)t.newURL.split("#")[1],t.oldURL.split("#")[1];var e=location.hash.slice(1).split("?")[0]||"/index/home/position";this.loadView(e)}},{key:"historyRefresh",value:function(t){var e=(t.state||{}).path.split("?")[0]||null;e&&this.loadView(e)}},{key:"loadView",value:function(t){var e=this;"history"===this.mode&&"/"===t&&(history.replaceState({path:"/"},null,"/"),t="/position"),this.currentURLlist=t.slice(1).split("/"),this.url="",this.currentURLlist.forEach(function(t,n){if(0===n&&e.navActive(t),e.url+="/"+t,e.controllerName=e.routes[e.url],!e.controllerName)return e.errorPage(),!1;e.oldURL&&e.oldURL[n]==e.currentURLlist[n]?e.handleSubRouter(t,n):e.controller(e.controllerName,e.url)}),this.oldURL=JSON.parse(JSON.stringify(this.currentURLlist))}},{key:"handleSubRouter",value:function(t,e){(this.oldURL.length<this.currentURLlist.length&&t!==this.oldURL[e]&&(this.controller(this.name),console.log("解绑状态监听事件"),store.getSubject().unsubscribe("stateChange")),this.oldURL.length>this.currentURLlist.length)&&(e==Math.min(this.oldURL.length,this.currentURLlist.length)-1&&this.controller(this.name))}},{key:"errorPage",value:function(){"hash"===this.mode?location.href="#/error":(history.replaceState({path:"/error"},null,"/error"),this.loadView("/error"))}},{key:"controller",value:function(t,e){t.render(),this.navActive(e)}},{key:"push",value:function(t){"hash"===this.mode?location.hash="#"+t:(history.pushState({path:t},null,t),this.loadView(t.split("?")[0]))}},{key:"bindEvents",value:function(){var t=this,e=function(e,n,i){t.$el.find(n).on(e,function(e){t[i](e)})};for(var n in t.events){new e(n.match(/[0-9A-Za-z]+\s/i)[0].trim(),n.replace(/[0-9A-Za-z]+\s/i,"").trim(),t.events[n]);null}e=null}},{key:"navActive",value:function(t){$("nav a").filter('[href="#'.concat(t,'"]')).closest("li").addClass("active").siblings().removeClass("active")}}]),t}();new Y({mode:"hash"})}]);